fnc={},fnc.core={},fnc.uiControls={},fnc.uiControls.globals={},fnc.uiControls.inputControls={},fnc.uiControls.orchestrators={},fnc.uiControls.panels={},fnc.staticMethods={},fnc.core.fncObject=function(){var t=function(){};return t.prototype={},t.prototype.initialize=function(t){for(var e in t)this[e]=t[e]},t}(),fnc.core.fncObjectCollection=function(){var t=fnc.core.fncObject,e=function(){this.values=[]};return e.prototype=new Object,e.prototype.push=function(e){if(!(e instanceof t))throw"Not an fncObject";this.values.push(e)},e.prototype.get=function(t){return this.values[t]},e}(),fnc.uiControls.uiElement=function(){var t=fnc.core.fncObject,e=function(t,i,r,n,o){t=t||"div",this.initialize=function(t,i,r){e.prototype.initialize.call(this,r),t&&(this.name=t),this.properties=i||{}},this.getProperty=function(t){return this.properties[t]},this.initialize(i,n,o),this.tag=t,this.value=r||"",this.dom=null},i=function(){var t=this.dom,e=parseInt(this.properties.width);e&&(t.style.width=e+"px",this.width=e);var i=parseInt(this.properties.height);i&&(t.style.height=i+"px",this.height=i)},r=function(){this.name&&this.dom.setAttribute("id",this.name),void 0===this.children&&("input"===this.tag?this.dom.setAttribute("value",this.dom.getAttribute("value")):("div"===this.tag||"label"===this.tag||"li"===this.tag||"dockpanel"===this.tag||"f_canvas"===this.tag||"grid"===this.tag||"stackpanel"===this.tag||"wrappanel"===this.tag||"span"===this.tag)&&(this.dom.innerText=this.value));for(var t in this.properties)this.dom.setAttribute(t,this.properties[t]);return t},n=function(){for(var t in this.properties){var e=this.dom.style;if("grid.row"===t){var i=parseInt(this.properties[t]),r=this.grid;e.top=r.rows[i].top+"px","SELECT"!==this.dom.tagName&&"radio"!==this.dom.getAttribute("type")&&(e.height=r.rows[i].height+"px")}else if("grid.rowspan"===t){var n=parseInt(this.properties[t]),r=this.grid,o=0,s=this.properties["grid.row"];s&&(o=s);for(var h,a=0,l=0;h=r.rows[o+l],n>l;l++)a+=h.height;"SELECT"!==this.dom.tagName&&"radio"!==this.dom.getAttribute("type")&&(e.height=a+"px")}else if("grid.col"===t){var p=parseInt(this.properties[t]),r=this.grid;e.left=r.cols[p].left+"px",e.width=r.cols[p].width+"px"}else if("grid.colspan"===t){var d=parseInt(this.properties[t]),r=this.grid,c=0,f=this.properties["grid.col"];f&&(c=f);for(var u,m=0,g=0;u=r.cols[c+g],d>g;g++)m+=u.width;e.width=m+"px"}else if("f-canvas.left"===t){var v=parseInt(this.properties[t]);e.left=v+"px"}else if("f-canvas.top"===t){var w=parseInt(this.properties[t]);e.top=w+"px"}else if("dockpanel.dock"===t){var y=this.dockpanel;this.properties.height||(e.height=y.bottomEnd-y.topStart+"px");var C=this.properties[t],b=e.height.slice(0,-2),x=e.width.slice(0,-2);if(C.indexOf("top")>-1){e.top=y.topStart+"px",y.topStart=y.topStart+parseInt(b);var m=parseInt(x);e.left="top-left"===C?"0":"top-right"===C?y.width-m+"px":(y.width-m)/2+"px"}else if(C.indexOf("bottom")>-1){e.top=y.bottomEnd-parseInt(b)+"px",y.bottomEnd=y.bottomEnd-parseInt(b);var m=parseInt(x);e.left="bottom-left"===C?"0":"bottom-right"===C?y.width-m+"px":(y.width-m)/2+"px"}else if("left"===C)e.top=(y.height-parseInt(b))/2+"px",e.left="0";else if("right"===C){e.top=(y.height-parseInt(b))/2+"px";var m=parseInt(x);e.left=y.width-m+"px"}}}},o=function(t){var e=this.dom;if(t)var i=t.available_width,r=t.available_height;"SELECT"===this.dom.tagName||"radio"===this.dom.getAttribute("type")?e.style.height="20px":(e.style.width=i?i+"px":window.innerWidth+"px",e.style.height=r?r+"px":window.innerHeight+"px"),e.style.display="block",e.style.position="absolute",e.style.textAlign="div"===this.tag||"span"===this.tag||"ul"===this.tag||"ol"===this.tag||"li"===this.tag?"left":"center",e.style.boxSizing="border-box"};return e.prototype=new t,e.prototype.render=function(t){if(this.dom=document.createElement(this.tag),r.call(this),o.call(this,t),n.call(this),i.call(this),this.dom.shadowRoot)for(var e,s=0;e=this.dom.shadowRoot.children[s];s++)if("STYLE"!==e.tagName){var h=fnc.staticMethods.refreshDOM(e,{available_height:parseInt(this.dom.style.height),available_width:parseInt(this.dom.style.width)});this.dom.shadowRoot.removeChild(e),this.dom.shadowRoot.appendChild(h)}return this.dom},e}(),fnc.uiControls.html5Control=function(){var t=fnc.uiControls.uiElement,e=function(t,e,i,r,n){t=t||"div",this.initialize(e,r,n),this.tag=t,this.value=i||"",this.dom=null},i=function(){for(var t,e=0;t=this.children.get(e);e++){var i=t.render({available_height:parseInt(this.dom.style.height),available_width:parseInt(this.dom.style.width)});i.style.position="static",i.style.width=null,i.style.height=null,this.dom.appendChild(i)}};return e.prototype=new t,e.prototype.render=function(e){return t.prototype.render.call(this,e),"IMG"!==this.dom.tagName&&"PARAM"!==this.dom.tagName&&"INPUT"!==this.dom.tagName&&(this.dom.innerText=this.value.trim()),this.children&&i.call(this),this.dom},e}(),fnc.uiControls.inputControls.radiobutton=function(){var t=fnc.uiControls.uiElement,e=function(t,e,i){this.initialize(t,e,i),this.tag="radiobutton"};return e.prototype=new t,e.prototype.render=function(){t.prototype.render.call(this);var e=document.createElement("input");e.setAttribute("type","radio"),e.setAttribute("id",this.dom.getAttribute("id")+"_radio"),this.dom.appendChild(e);var i=document.createElement("label");return i.setAttribute("for",e.getAttribute("id")),i.innerText=this.properties.value,i.style.width=this.dom.style.width,i.style.boxSizing=this.dom.style.boxSizing,this.dom.appendChild(i),this.dom},e}(),fnc.uiControls.inputControls.textbox=function(){var t=fnc.uiControls.uiElement,e=function(t,e,i){this.initialize(t,e,i),this.tag="textbox"};return e.prototype=new t,e.prototype.render=function(){t.prototype.render.call(this);var e=document.createElement("input");e.setAttribute("type","text");var i=this.properties.placeholder;i&&e.setAttribute("placeholder",i);var r=this.properties.value;return r&&e.setAttribute("value",r),e.style.width=this.dom.style.width,e.style.boxSizing=this.dom.style.boxSizing,this.dom.appendChild(e),this.dom},e}(),fnc.uiControls.panels.panel=function(){var t=fnc.uiControls.uiElement,e=fnc.core.fncObjectCollection,i=function(){this.initialize=function(t,r,n){i.prototype.initialize.call(this,t,r,n),this.children=new e}};return i.prototype=new t,i.prototype.render=function(e){t.prototype.render.call(this,e),this.dom.style.position="relative",this.dom.style.display="block"},i.prototype.renderChildren=function(t){for(var e,i=0;e=this.children.get(i);i++)this.dom.appendChild(e.render(t))},i}(),fnc.uiControls.panels.fCanvas=function(){var t=fnc.uiControls.panels.panel,e=function(t,e,i){this.initialize(t,e,i),this.tag="f-canvas"};return e.prototype=new t,e.prototype.render=function(e){return t.prototype.render.call(this,e),this.renderChildren(),this.dom},e}(),fnc.uiControls.panels.grid=function(){var t=fnc.uiControls.panels.panel,e=function(t,e,i){this.initialize(t,e,i),this.tag="grid",this.rows=[],this.cols=[]};return e.prototype=new t,e.prototype.render=function(e){var i=function(t,e,i,r){for(var n,o=t.split(" "),s=0,h=0;n=o[h];h++){var a=parseInt(n);if(n.indexOf("%")>-1){if(e>0){var l=a*e/100;s+=l;var p={};p[r]=l,i.push(p)}}else if("*"===n){var p={};p[r]="*",i.push(p)}else{s+=a;var p={};p[r]=a,i.push(p)}}for(var p,h=0;p=i[h];h++)"*"===p[r]&&(p[r]=e-s,s=e);s>0&&(this.dom.style[r]=s+"px")},r=function(){if(this.properties.rowheights){i.call(this,this.properties.rowheights,parseInt(this.dom.style.height),this.rows,"height");for(var t,e=this.rows,r=0,n=0;t=e[n];n++)t.top=r,r+=t.height}},n=function(){if(this.properties.colwidths){i.call(this,this.properties.colwidths,parseInt(this.dom.style.width),this.cols,"width");for(var t,e=this.cols,r=0,n=0;t=e[n];n++)t.left=r,r+=t.width}};return t.prototype.render.call(this,e),r.call(this),n.call(this),this.renderChildren({available_height:parseInt(this.dom.style.height),available_width:parseInt(this.dom.style.width)}),this.dom},e}(),fnc.uiControls.panels.stackpanel=function(){var t=fnc.uiControls.panels.panel,e=function(t,e,i){this.initialize(t,e,i),this.tag="stackpanel"},i=function(){var t=this.properties.orientation||"horizontal";if("horizontal"===t){for(var e,i=0,r=0,n=0;e=this.children.get(n);n++){var o=e.dom.style;o.left=i+"px";var s=e.width,h=e.height;i+=s,h>r&&(r=h)}this.dom.style.width=i+"px",this.dom.style.height=(r>this.height?r:this.height)+"px"}else{for(var e,a=0,l=0,n=0;e=this.children.get(n);n++){var o=e.dom.style;o.top=a+"px";var h=e.height,s=e.width;a+=h,s>l&&(l=s)}this.dom.style.height=a+"px",this.dom.style.width=(l>this.width?l:this.width)+"px"}};return e.prototype=new t,e.prototype.render=function(e){return t.prototype.render.call(this,e),this.renderChildren({available_height:parseInt(this.dom.style.height),available_width:parseInt(this.dom.style.width)}),i.call(this),this.dom},e}(),fnc.uiControls.panels.wrappanel=function(){var t=fnc.uiControls.panels.panel,e=function(t,e,i){this.initialize(t,e,i),this.tag="wrappanel"},i=function(){for(var t,e=0,i=0,r=0,n=this.properties.width||null,o=0;t=this.children.get(o);o++){var s=t.dom.style,h=parseInt(s.width.slice(0,-2)),a=parseInt(s.height.slice(0,-2));n&&e+h>parseInt(n)?(e=0,i+=r,r=a):a>r&&(r=a),s.left=e+"px",s.top=i+"px",e+=h}this.dom.style.width=(e>this.width?e:this.width)+"px";var l=i+r;this.dom.style.height=(l>this.height?l:this.height)+"px"};return e.prototype=new t,e.prototype.render=function(e){return t.prototype.render.call(this,e),this.renderChildren({available_height:parseInt(this.dom.style.height),available_width:parseInt(this.dom.style.width)}),i.call(this),this.dom},e}(),fnc.uiControls.panels.dockpanel=function(){var t=fnc.uiControls.panels.panel,e=function(t,e,i){this.initialize(t,e,i),this.tag="dockpanel",this.topStart=0,this.bottomEnd=0,this.height=0};return e.prototype=new t,e.prototype.render=function(e){return t.prototype.render.call(this,e),this.height=parseInt(this.dom.style.height.slice(0,-2)),this.bottomEnd=this.height,this.renderChildren({available_width:this.width,available_height:this.bottomEnd-this.topStart}),this.dom},e}(),fnc.uiControls.orchestrators.loadingStage=function(){var t=fnc.uiControls.panels.panel,e=function(t,e,i){this.initialize(e.id,e,i),this.tag="loading-stage"};return e.prototype=new t,e.prototype.render=function(){this.dom=document.createElement(this.tag);for(var t,e=0;t=this.children.get(e);e++)if("javascript"===t.tag){var i=document.createElement("script");i.src=t.properties.src,i.async=!1,document.head.appendChild(i)}else{var r=t.render();r.style.position="static",r.style.width=null,r.style.height=null,this.dom.appendChild(r)}return this.dom},e}(),fnc.uiControls.orchestrators.loader=function(){var t=fnc.uiControls.uiElement,e=fnc.core.fncObjectCollection,i=function(t,i,r){this.initialize(i.id,i,r),this.tag="loader",this.loadingStages=new e};return i.prototype=new t,i.prototype.render=function(){this.dom=document.createElement(this.tag);for(var t,e=0;t=this.loadingStages.get(e);e++)this.dom.appendChild(t.render());return this.dom},i}(),fnc.core.factory=function(){var t=fnc.core.fncObjectCollection,e=fnc.uiControls.uiElement,i=fnc.uiControls.html5Control,r=fnc.uiControls.orchestrators.loader,n=fnc.uiControls.orchestrators.loadingStage,o=fnc.uiControls.panels.grid,s=fnc.uiControls.panels.stackpanel,h=fnc.uiControls.panels.wrappanel,a=fnc.uiControls.panels.fCanvas,l=fnc.uiControls.panels.dockpanel,p=fnc.uiControls.inputControls.textbox,d=fnc.uiControls.inputControls.radiobutton;return{createUiControl:function(c,f,u){f=f||{},u=u||{};for(var m,g=c.attributes,v=0;m=g[v];v++)f[m.name]=m.value;var w=new e;if("LOADER"===c.tagName){w=new r(c,f,u);for(var y,v=0;y=c.children[v];v++)w.loadingStages.push(this.createUiControl(y,{},{}))}else if("LOADING-STAGE"===c.tagName){w=new n(c,f,u);for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{}))}else if("GRID"===c.tagName){w=new o(f.id,f,u);for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{grid:w}))}else if("STACKPANEL"===c.tagName){w=new s(f.id,f,u);for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{stackpanel:w}))}else if("WRAPPANEL"===c.tagName){w=new h(f.id,f,u);for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{wrappanel:w}))}else if("F-CANVAS"===c.tagName){w=new a(f.id,f,u);for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{f_canvas:w}))}else if("DOCKPANEL"===c.tagName){w=new l(f.id,f,u);for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{dockpanel:w}))}else if("TEXTBOX"===c.tagName)w=new p(f.id,f,u);else if("RADIOBUTTON"===c.tagName)w=new d(f.id,f,u);else{var C=c.innerText;if(c.firstChild&&3==c.firstChild.nodeType&&(C=c.firstChild.data),w=new i(c.tagName.toLowerCase(),f.id,C,f,u),c.children.length>0){w.children=new t;for(var y,v=0;y=c.children[v];v++)w.children.push(this.createUiControl(y,{},{grid:w}))}}return w}}}(),fnc.staticMethods={refreshDOM:function(t,e){var i=fnc.core.factory,r=i.createUiControl(t);return r.render(e)},registerWebComponent:function(t){fnc.templateDocs||(fnc.templateDocs=[]),fnc.templateDocs.push(t)},registerAllWebComponents:function(){if(fnc.templateDocs)for(var t,e=0;t=fnc.templateDocs[e];e++){var i=t.querySelector("template"),r=i.attributes.id.value.replace("_","-");document.registerElement(r,{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){var t=this.createShadowRoot(),e=document.importNode(i.content,!0);t.appendChild(e)}}})})}}},fnc.uiControls.globals.rootVisual=function(){var t=fnc.uiControls.uiElement,e=fnc.core.factory,i=function(t){t&&(this.child=t),this.dom=document.body;for(var i,r=this.dom.attributes,n=0;i=r[n];n++)this.properties[i.name]=i.value,"min-resolution-width"===i.name&&(this.minResolutionWidth=parseInt(i.value));this.refreshVisualTree=function(){for(var t,i=0;t=this.dom.children[i];i++)if("SCRIPT"!==t.tagName){this.child=e.createUiControl(t),this.render();break}},this.refreshVisualTree()};return i.prototype=new t,i.prototype.render=function(){var t=this.child.render({available_width:e,available_height:i}),e=this.minResolutionWidth>window.innerWidth?this.minResolutionWidth:window.innerWidth,i=this.minResolutionWidth*window.innerHeight/window.innerWidth;this.dom.style.width=e+"px",this.dom.style.height=i+"px";var r=this.dom.getElementsByTagName(this.child.tag)[0];r&&this.dom.removeChild(r),this.dom.appendChild(t),this.scaleAsPerStandardDimensions()},i.prototype.scaleAsPerStandardDimensions=function(){var t=window.innerWidth/this.minResolutionWidth;1>t&&(this.dom.style.transform=this.dom.style.transform+" scaleX("+t+") scaleY("+t+")")},i}(),window.onload=function(){fnc.staticMethods.registerAllWebComponents(),fnc.body=new fnc.uiControls.globals.rootVisual};